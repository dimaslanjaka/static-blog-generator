---
author:
  nick: Unknown
  link: ""
  email: noreply@blogger.com
category:
  - Programming
  - PHP
comments: true
cover: https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIWbE9ADSn11CH5cNI3gcioX1mK17u9QAfTSLX9hxLtwyXgFYdt0J_Yyrw
date: 2017-04-21T18:48:00.000+07:00
lang: en
subtitle: async vs defer attributesTagsTheasyncanddeferattributes for
  the<script>element have nice support now, so its time to learn exactly
tags:
  - Wordpress
  - JS
  - PHP
title: Auto Defer Or Async Javascript in Wordpress
type: post
uuid: a7a0caca-a663-4888-8939-131defcbf670
webtitle: WMI Gitlab
updated: 2022-04-15T12:19:00+0700
wordcount: 1542
excerpt: async vs defer attributesTagsTheasyncanddeferattributes for
  the<script>element have nice support now, so its time to learn exactly
description: async vs defer attributesTagsTheasyncanddeferattributes for
  the<script>element have nice support now, so its time to learn exactly
url: https://www.webmanajemen.com/2017/04/auto-defer-or-async-javascript-in-wp.html
permalink: /2017/04/auto-defer-or-async-javascript-in-wp.html
thumbnail: https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIWbE9ADSn11CH5cNI3gcioX1mK17u9QAfTSLX9hxLtwyXgFYdt0J_Yyrw
photos:
  - https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIWbE9ADSn11CH5cNI3gcioX1mK17u9QAfTSLX9hxLtwyXgFYdt0J_Yyrw
---

<div dir="ltr" trbidi="on"><img alt="understanding async and defer" src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIWbE9ADSn11CH5cNI3gcioX1mK17u9QAfTSLX9hxLtwyXgFYdt0J_Yyrw" title="async or defer"><br><br><div class="masthead"><div class="wrapper"><br><header class="inner-wrapper"><h1>async vs defer attributes</h1><div class="date"><br></div></header><span class="screen-reader">Tags:</span><br><div class="inner-wrapper" itemprop="description"><div>The&nbsp;<a href="http://www.webmanajemen.com/p/search.html?q=async" rel="noopener noreferer nofollow"><code class="highlighter-rouge">async</code></a>&nbsp;and&nbsp;<a href="http://www.webmanajemen.com/p/search.html?q=async" rel="noopener noreferer nofollow"><code class="highlighter-rouge">defer</code></a>&nbsp;attributes for the&nbsp;<code class="highlighter-rouge">&lt;script&gt;</code>&nbsp;element have nice support now, so itâ€™s time to learn exactly what they do!</div></div></div></div><div class="wrapper"><div class="inner-wrapper"><h2 id="legend">Legend<a aria-hidden="true" class="anchor" href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#legend" rel="noopener noreferer nofollow"></a></h2><br><figure class="post-image left-aligned"><img alt="" src="http://www.growingwiththeweb.com/images/2014/02/26/legend.svg"></figure></div></div><div><div><div><h2 id="script">                <code>&lt;script&gt;</code>                <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#script" rel="noopener noreferer nofollow">                </a>            </h2>Let's begin by process what &lt;script&gt; with none attributes                 will. The HTML file are parsed till the script file is hit, at                 that time parsing can stop and a call for participation are                 created to fetch the file (if it's external). The script can                 then be dead before parsing is resumed.             <br><br><figure>                <img alt="" src="http://www.growingwiththeweb.com/images/2014/02/26/script.svg">            </figure>            <br><h2 id="script-async">                <code>&lt;script async&gt;</code>                <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#script-async" rel="noopener noreferer nofollow">                </a>            </h2>async downloads the file through out HTML parsing and can pause                 the HTML program to execute it once it'sfinished downloading.             <br><br><figure>                <img alt="" src="http://www.growingwiththeweb.com/images/2014/02/26/script-async.svg">            </figure>            <br><h2 id="script-defer">                <code>&lt;script defer&gt;</code>                <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#script-defer" rel="noopener noreferer nofollow">                </a>            </h2>defer downloads the file throughout hypertext markup language                 parsing and can solely execute it once the computer program has                 completed. defer scripts also are guarenteed to execute within                 the order that they seem within the document.             <br><br><figure>                <img alt="" src="http://www.growingwiththeweb.com/images/2014/02/26/script-defer.svg">            </figure>            <br><h2 id="when-should-i-use-what">                When should I use what?                 <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#when-should-i-use-what" rel="noopener noreferer nofollow">                </a>            </h2>Typically you would like to use async wherever attainable, then                 defer then no attribute. Here area unit some general rules to                 follow:             <br><ul><li>                    If the script is modular and does not rely on any scripts                     then use<code>async</code>.                 </li><li>                    If the script relies upon or is relied upon by another                     script then use<code>defer</code>.                 </li><li>If the script is small and is relied upon by an<code>async</code> script then use an inline<code>script</code> with no attributes placed                    <em>above</em> the <code>async</code> scripts.                 </li></ul><h2 id="support">                Support                 <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#support" rel="noopener noreferer nofollow">                </a>            </h2>IE9 and below have some pretty unhealthy bugs in their                 implementation of defersuch that the execution order isn't                 guarenteed. If you would like to support &lt;= IE9 i like to                 recommend not exploitation defer in the least and embrace your                 scripts with no attribute if the execution order matters.                 <a href="https://github.com/h5bp/lazyweb-requests/issues/42" rel="noopener noreferer nofollow" target="_blank">                    Read the specifics here                </a>                .             <br><br></div></div>This time I will give functions.php custom to automatically defer or         async javascript (js).     </div><div>Function: adding async = "async" for async and defer = "defer" to defer         javascript (js).     </div><h3></h3><h3>    <img alt="javascript defered" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRD46gw7NCUBEMNU9hmss9gZKXdkRh7MLOadDrb4vmTmqu2flr0" title="defer js">    defer </h3><pre>  add_defer_attribute function ($ tag, $ handle) {<br>    // add script handles to the array below<br>    $ Scripts_to_defer = array ( 'my-js-handle', 'another-handle');<br>   <br>    foreach ($ scripts_to_defer as $ defer_script) {<br>       if ($ defer_script === $ handle) {<br>          return str_replace ( 'src', 'defer = "defer" src ", $ tags);<br>       }<br>    }<br>    return $ tag;<br> } </pre><pre>  add_filter ( 'script_loader_tag', 'add_defer_attribute', 10, 2); </pre><h3>    <img alt="javascript async" src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSfPn8NMMPZCo-EomS-sRAH3vLNAlcwWo1YOi7DOqXU6UG75ttJ4nRDzoosdw" title="async js"></h3><h3>    async </h3><pre>  add_async_attribute function ($ tag, $ handle) {<br>    // add script handles to the array below<br>    $ Scripts_to_async = array ( 'my-js-handle', 'another-handle');<br>   <br>    foreach ($ scripts_to_async as $ async_script) {<br>       if ($ async_script === $ handle) {<br>          return str_replace ( 'src', 'async = "async" src ", $ tags);<br>       }<br>    }<br>    return $ tag;<br> } </pre><pre>  add_filter ( 'script_loader_tag', 'add_async_attribute', 10, 2); </pre><div>Let me know if you have any questions below.     </div></div>